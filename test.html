<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Checkbox Demo</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f0f0f0;
            color: #333;
            padding: 20px;
        }
        /* Your Custom Checkbox CSS */
        .checkbox-wrapper-11 {
            --text: #414856;
            --check: #4F29F0;
            --disabled: #C3C8DE;
            --border-radius: 10px;
            border-radius: var(--border-radius);
            position: relative;
            padding: 5px;
            display: grid;
            grid-template-columns: 30px auto;
            align-items: center;
        }
        .checkbox-wrapper-11 label {
            color: var(--text);
            position: relative;
            cursor: pointer;
            display: grid;
            align-items: center;
            width: fit-content;
            transition: color 0.3s ease;
        }
        .checkbox-wrapper-11 label::before,
        .checkbox-wrapper-11 label::after {
            content: "";
            position: absolute;
        }
        .checkbox-wrapper-11 label::before {
            height: 2px;
            width: 8px;
            left: -27px;
            background: var(--check);
            border-radius: 2px;
            transition: background 0.3s ease;
        }
        .checkbox-wrapper-11 label:after {
            height: 4px;
            width: 4px;
            top: 8px;
            left: -25px;
            border-radius: 50%;
        }
        .checkbox-wrapper-11 input[type=checkbox] {
            -webkit-appearance: none;
            -moz-appearance: none;
            position: relative;
            height: 15px;
            width: 15px;
            outline: none;
            border: 0;
            margin: 0 15px 0 0;
            cursor: pointer;
            background: var(--background);
            display: grid;
            align-items: center;
        }
        .checkbox-wrapper-11 input[type=checkbox]::before, 
        .checkbox-wrapper-11 input[type=checkbox]::after {
            content: "";
            position: absolute;
            height: 2px;
            top: auto;
            background: var(--check);
            border-radius: 2px;
        }
        .checkbox-wrapper-11 input[type=checkbox]::before {
            width: 0px;
            right: 60%;
            transform-origin: right bottom;
        }
        .checkbox-wrapper-11 input[type=checkbox]::after {
            width: 0px;
            left: 40%;
            transform-origin: left bottom;
        }
        .checkbox-wrapper-11 input[type=checkbox]:checked::before {
            -webkit-animation: check-01-11 0.4s ease forwards;
            animation: check-01-11 0.4s ease forwards;
        }
        .checkbox-wrapper-11 input[type=checkbox]:checked::after {
            -webkit-animation: check-02-11 0.4s ease forwards;
            animation: check-02-11 0.4s ease forwards;
        }
        .checkbox-wrapper-11 input[type=checkbox]:checked + label {
            color: var(--disabled);
            -webkit-animation: move-11 0.3s ease 0.1s forwards;
            animation: move-11 0.3s ease 0.1s forwards;
        }
        .checkbox-wrapper-11 input[type=checkbox]:checked + label::before {
            background: var(--disabled);
            -webkit-animation: slice-11 0.4s ease forwards;
            animation: slice-11 0.4s ease forwards;
        }
        .checkbox-wrapper-11 input[type=checkbox]:checked + label::after {
            -webkit-animation: firework-11 0.5s ease forwards 0.1s;
            animation: firework-11 0.5s ease forwards 0.1s;
        }
        @-webkit-keyframes move-11 { /* Animation keyframes omitted for brevity */ }
        @keyframes move-11 { /* Animation keyframes omitted for brevity */ }
        @-webkit-keyframes slice-11 { /* Animation keyframes omitted for brevity */ }
        @keyframes slice-11 { /* Animation keyframes omitted for brevity */ }
        @-webkit-keyframes check-01-11 { /* Animation keyframes omitted for brevity */ }
        @keyframes check-01-11 { /* Animation keyframes omitted for brevity */ }
        @-webkit-keyframes check-02-11 { /* Animation keyframes omitted for brevity */ }
        @keyframes check-02-11 { /* Animation keyframes omitted for brevity */ }
        @-webkit-keyframes firework-11 { /* Animation keyframes omitted for brevity */ }
        @keyframes firework-11 { /* Animation keyframes omitted for brevity */ }
    </style>
</head>
<body>
    <div id="content"></div>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
        // Custom renderer for task list items
        const renderer = {
            tasklist(checked, text) {
                const id = 'cb-' + Math.random().toString(36).substr(2, 9); // Unique ID
                return `<div class="checkbox-wrapper-11">
                    <input id="${id}" type="checkbox" name="r" value="2" ${checked ? 'checked' : ''}>
                    <label for="${id}">${text}</label>
                </div>`;
            }
        };

        // Apply the custom renderer
        marked.use({
            renderer: {
                listitem(text, task, checked) {
                    if (task) {
                        return renderer.tasklist(checked, text);
                    }
                    return `<li>${text}</li>`;
                }
            }
        });

        // Example Markdown content
        const markdown = `
- [ ] Why did Norma consider Mr. Steward rude?
- [x] Review the poem "The Rain"
- Normal list item
        `;
        document.getElementById("content").innerHTML = marked.parse(markdown);
        document.getElementById("content").querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                    checkbox.removeAttribute('disabled');
    </script>
</body>
</html>
